<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Master Integrated Wireframe v0.6 (Final)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* í™”ë©´ ì „í™˜ ë° ì• ë‹ˆë©”ì´ì…˜ */
        .screen { display: none; flex-direction: column; height: 100%; animation: fadein 0.3s; }
        .screen.active { display: flex; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        @keyframes fadein { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        @keyframes pulse-ring { 0% { transform: scale(0.8); opacity: 0.5; } 100% { transform: scale(1.5); opacity: 0; } }
        
        /* ê³µí†µ ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ */
        .btn-primary { @apply w-full h-12 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition flex items-center justify-center; }
        .btn-outline { @apply w-full h-12 border-2 border-gray-300 font-bold rounded-lg hover:bg-gray-50 transition flex items-center justify-center; }
        .input-field { @apply w-full h-12 border border-gray-300 rounded-lg px-4 bg-gray-50 focus:outline-none focus:border-blue-500; }
        .nav-item { @apply flex flex-col items-center justify-center w-full h-full text-gray-400 cursor-pointer hover:text-blue-500; }
        .nav-item.active { @apply text-blue-600 font-bold; }
        
        /* ë°”í…€ ë„¤ë¹„ê²Œì´ì…˜ (GNB) */
        #gnb { display: none; }
        #gnb.show { display: flex; }

        /* ì†Œì…œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn-kakao { background-color: #FEE500; color: #000000 85%; border: none; }
        .btn-naver { background-color: #03C75A; color: white; border: none; }
        
        /* í†µê³„ ê·¸ë˜í”„ìš© ìŠ¤íƒ€ì¼ */
        .bar-container { display: flex; align-items: flex-end; justify-content: space-between; height: 100%; }
        .bar { width: 12%; border-radius: 4px 4px 0 0; position: relative; transition: height 0.5s ease-out; }
        .bar:hover { opacity: 0.8; }
        .bar-label { position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%); font-size: 10px; color: #999; }
    </style>
</head>
<body class="bg-gray-200 min-h-screen flex items-center justify-center font-sans text-gray-800">

    <div class="relative w-[375px] h-[812px] bg-white shadow-2xl rounded-[35px] overflow-hidden border-[8px] border-gray-800 flex flex-col">
        
        <header id="app-header" class="h-14 border-b flex items-center justify-between px-4 bg-white z-20 hidden">
            <button onclick="goBack()" class="text-2xl w-8">â†</button>
            <h1 id="header-title" class="font-bold text-lg truncate">ì•± ì œëª©</h1>
            <div class="w-8 flex justify-end"></div> 
        </header>

        <main class="flex-1 overflow-y-auto scrollbar-hide relative bg-gray-50">

            <div id="screen-landing" class="screen active items-center justify-center p-6 bg-white text-center relative overflow-hidden">
                <div class="absolute top-[-50px] right-[-50px] w-64 h-64 bg-blue-100 rounded-full opacity-50 z-0"></div>
                <div class="relative z-10 flex flex-col items-center">
                    <div class="w-28 h-28 bg-blue-600 text-white rounded-3xl mb-8 flex items-center justify-center text-5xl shadow-lg transform rotate-3">ğŸ¥—</div>
                    <h1 class="text-3xl font-bold mb-3 text-gray-800">ê±´ê°•ë§ˆìŠ¤í„°</h1>
                    <p class="text-gray-500 mb-12">AI ì‹ë‹¨ ë¶„ì„ë¶€í„° ì±Œë¦°ì§€ê¹Œì§€</p>
                    <button onclick="navigate('screen-login', false)" class="btn-primary mb-4 shadow-lg text-lg">ì‹œì‘í•˜ê¸°</button>
                </div>
            </div>

            <div id="screen-login" class="screen p-8 justify-center bg-white">
                <h2 class="text-2xl font-bold mb-10 text-center">ë¡œê·¸ì¸</h2>
                <div class="w-full space-y-4">
                    <button onclick="navigate('screen-home', true)" class="w-full h-14 btn-kakao rounded-lg font-bold flex items-center justify-center gap-3 relative shadow-sm">
                        <span class="text-xl">ğŸ’¬</span> ì¹´ì¹´ì˜¤ë¡œ ì‹œì‘í•˜ê¸°
                    </button>
                    <button onclick="navigate('screen-home', true)" class="w-full h-14 btn-naver rounded-lg font-bold flex items-center justify-center gap-3 shadow-sm">
                        <span class="text-xl">N</span> ë„¤ì´ë²„ë¡œ ì‹œì‘í•˜ê¸°
                    </button>
                </div>
            </div>

            <div id="screen-home" class="screen bg-gray-100" data-title="í™ˆ">
                <div class="bg-blue-600 p-6 pb-10 text-white rounded-b-[2rem] shadow-md">
                    <div class="flex justify-between items-center mb-6">
                        <span class="font-bold">ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”, ê±´ê°•ë§ˆìŠ¤í„°ë‹˜</span>
                        <span class="text-xl">ğŸ””</span>
                    </div>
                    <div class="bg-white/10 p-5 rounded-2xl backdrop-blur-sm">
                        <p class="text-sm opacity-80 mb-1">ì˜¤ëŠ˜ì˜ ëª©í‘œ ì¹¼ë¡œë¦¬</p>
                        <div class="flex justify-between items-end mb-2"><span class="text-3xl font-bold">1,240</span><span class="text-sm opacity-80 mb-1">/ 2,000 kcal</span></div>
                        <div class="w-full h-2.5 bg-black/20 rounded-full overflow-hidden"><div class="h-full bg-green-400 w-[62%] rounded-full"></div></div>
                    </div>
                </div>
                <div class="px-6 -mt-8 mb-6">
                    <div class="grid grid-cols-3 gap-3">
                        <div onclick="navigate('screen-diet-list', true)" class="bg-white p-3 py-4 rounded-2xl shadow-md flex flex-col items-center gap-2 cursor-pointer hover:scale-[1.02] transition">
                            <span class="text-2xl bg-orange-100 p-2 rounded-full">ğŸ½ï¸</span>
                            <span class="font-bold text-xs">ì‹ë‹¨ ê¸°ë¡</span>
                        </div>
                        <div onclick="navigate('screen-chatbot', false)" class="bg-white p-3 py-4 rounded-2xl shadow-md flex flex-col items-center gap-2 cursor-pointer hover:scale-[1.02] transition">
                            <span class="text-2xl bg-blue-100 p-2 rounded-full">ğŸ¤–</span>
                            <span class="font-bold text-xs">AI ì˜ì–‘ì‚¬</span>
                        </div>
                        <div onclick="navigate('screen-food-db', false)" class="bg-white p-3 py-4 rounded-2xl shadow-md flex flex-col items-center gap-2 cursor-pointer hover:scale-[1.02] transition">
                            <span class="text-2xl bg-green-100 p-2 rounded-full">ğŸ</span>
                            <span class="font-bold text-xs">ìŒì‹ ì‚¬ì „</span>
                        </div>
                    </div>
                </div>

                <div class="px-6 pb-6">
                    <div class="flex justify-between items-center mb-3"><h3 class="font-bold text-gray-800">ğŸ”¥ ì§„í–‰ ì¤‘ì¸ ì±Œë¦°ì§€</h3><span onclick="navigate('screen-challenge-list', true)" class="text-xs text-gray-400 cursor-pointer">ë”ë³´ê¸° ></span></div>
                    <div class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex gap-4 items-center">
                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-2xl">ğŸ¥—</div>
                        <div class="flex-1"><h4 class="font-bold text-sm">ë§¤ì¼ ìƒëŸ¬ë“œ ë¨¹ê¸°</h4><div class="flex items-center gap-2 mt-1"><div class="flex-1 h-1.5 bg-gray-100 rounded-full"><div class="w-[80%] h-full bg-green-500 rounded-full"></div></div><span class="text-xs text-green-600 font-bold">80%</span></div></div>
                    </div>
                </div>
            </div>

            <div id="screen-food-db" class="screen bg-white" data-title="ìŒì‹ ì‚¬ì „">
                <div class="p-6">
                    <div class="relative mb-6">
                        <input type="text" placeholder="ê¶ê¸ˆí•œ ìŒì‹ì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”" class="input-field h-12 rounded-full pl-12 bg-gray-100 border-none">
                        <span class="absolute left-4 top-3 text-gray-400 text-lg">ğŸ”</span>
                    </div>

                    <div class="mb-8">
                        <h3 class="font-bold text-sm mb-3">ì¹´í…Œê³ ë¦¬ë³„ ë³´ê¸°</h3>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1.5 bg-blue-50 text-blue-600 rounded-full text-xs font-bold cursor-pointer hover:bg-blue-100">ğŸ’ª ê³ ë‹¨ë°±</span>
                            <span class="px-3 py-1.5 bg-green-50 text-green-600 rounded-full text-xs font-bold cursor-pointer hover:bg-green-100">ğŸ¥— ì €íƒ„ìˆ˜í™”ë¬¼</span>
                            <span class="px-3 py-1.5 bg-yellow-50 text-yellow-600 rounded-full text-xs font-bold cursor-pointer hover:bg-yellow-100">ğŸ¿ ê°„ì‹/ë””ì €íŠ¸</span>
                            <span class="px-3 py-1.5 bg-purple-50 text-purple-600 rounded-full text-xs font-bold cursor-pointer hover:bg-purple-100">â˜• ìŒë£Œ/ì°¨</span>
                        </div>
                    </div>

                    <div>
                        <h3 class="font-bold text-sm mb-3">ìì£¼ ì°¾ëŠ” ìŒì‹ ğŸ”¥</h3>
                        <div class="space-y-3">
                            <div onclick="navigate('screen-food-db-detail', false)" class="flex items-center gap-4 p-3 border rounded-xl hover:bg-gray-50 cursor-pointer">
                                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-xl">ğŸ¥‘</div>
                                <div class="flex-1">
                                    <h4 class="font-bold text-sm">ì•„ë³´ì¹´ë„ (100g)</h4>
                                    <p class="text-xs text-gray-400">ìˆ²ì†ì˜ ë²„í„°, ê±´ê°•í•œ ì§€ë°©</p>
                                </div>
                                <span class="text-sm font-bold text-gray-700">160 kcal</span>
                            </div>
                            <div onclick="navigate('screen-food-db-detail', false)" class="flex items-center gap-4 p-3 border rounded-xl hover:bg-gray-50 cursor-pointer">
                                <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center text-xl">ğŸ¥©</div>
                                <div class="flex-1">
                                    <h4 class="font-bold text-sm">ì†Œê³ ê¸° ì•ˆì‹¬ (100g)</h4>
                                    <p class="text-xs text-gray-400">ë‹¤ì´ì–´íŠ¸ì— ì¢‹ì€ ë¶€ìœ„</p>
                                </div>
                                <span class="text-sm font-bold text-gray-700">250 kcal</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="screen-food-db-detail" class="screen bg-white" data-title="ìŒì‹ ì •ë³´">
                <div class="flex-1 overflow-y-auto">
                    <div class="h-64 bg-green-50 flex items-center justify-center text-8xl">ğŸ¥‘</div>
                    
                    <div class="p-6 -mt-6 bg-white rounded-t-3xl shadow-lg relative min-h-[500px]">
                        <div class="flex justify-between items-start mb-2">
                            <h2 class="text-2xl font-bold">ì•„ë³´ì¹´ë„</h2>
                            <span class="bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-bold">ê±´ê°•ì‹</span>
                        </div>
                        <p class="text-sm text-gray-500 mb-6">100g ê¸°ì¤€</p>

                        <div class="grid grid-cols-4 gap-2 mb-8 text-center">
                            <div class="p-3 bg-gray-50 rounded-xl">
                                <span class="block text-xs text-gray-400 mb-1">ì¹¼ë¡œë¦¬</span>
                                <span class="font-bold text-lg text-gray-800">160</span>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-xl">
                                <span class="block text-xs text-gray-400 mb-1">íƒ„ìˆ˜</span>
                                <span class="font-bold text-lg text-gray-800">9g</span>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-xl">
                                <span class="block text-xs text-gray-400 mb-1">ë‹¨ë°±ì§ˆ</span>
                                <span class="font-bold text-lg text-gray-800">2g</span>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-xl">
                                <span class="block text-xs text-gray-400 mb-1">ì§€ë°©</span>
                                <span class="font-bold text-lg text-gray-800">15g</span>
                            </div>
                        </div>

                        <div class="mb-8">
                            <h3 class="font-bold text-sm mb-3">ì˜ì–‘ì†Œ ë¹„ìœ¨</h3>
                            <div class="flex items-center gap-2 text-xs mb-1">
                                <span class="w-3 h-3 bg-yellow-400 rounded-full"></span> ì§€ë°© (75%)
                                <span class="w-3 h-3 bg-blue-400 rounded-full ml-2"></span> íƒ„ìˆ˜ (20%)
                                <span class="w-3 h-3 bg-purple-400 rounded-full ml-2"></span> ë‹¨ë°±ì§ˆ (5%)
                            </div>
                            <div class="w-full h-4 bg-gray-100 rounded-full overflow-hidden flex">
                                <div class="h-full bg-yellow-400 w-[75%]"></div>
                                <div class="h-full bg-blue-400 w-[20%]"></div>
                                <div class="h-full bg-purple-400 w-[5%]"></div>
                            </div>
                        </div>

                        <div class="bg-blue-50 p-4 rounded-xl mb-6">
                            <h4 class="font-bold text-sm text-blue-700 mb-1">ğŸ’¡ ê±´ê°• íŒ</h4>
                            <p class="text-xs text-blue-600 leading-relaxed">
                                ë¶ˆí¬í™”ì§€ë°©ì‚°ì´ í’ë¶€í•´ ì½œë ˆìŠ¤í…Œë¡¤ ìˆ˜ì¹˜ë¥¼ ë‚®ì¶”ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤. 
                                ìƒëŸ¬ë“œë‚˜ ìƒŒë“œìœ„ì¹˜ì— ê³ë“¤ì—¬ ë“œì„¸ìš”.
                            </p>
                        </div>

                        <button onclick="navigate('screen-diet-write', false)" class="btn-primary shadow-lg">
                            ğŸ½ï¸ ì´ ìŒì‹ì„ ì‹ë‹¨ì— ì¶”ê°€í•˜ê¸°
                        </button>
                    </div>
                </div>
            </div>

            <div id="screen-diet-list" class="screen bg-gray-50" data-title="ì‹ë‹¨ ê´€ë¦¬">
                <div class="p-4 flex justify-between items-center">
                    <h2 class="font-bold text-xl">ì˜¤ëŠ˜ì˜ ì‹ë‹¨</h2>
                    <button onclick="navigate('screen-diet-stats', false)" class="text-xs bg-white border px-3 py-1.5 rounded-full shadow-sm font-bold flex items-center gap-1 hover:bg-gray-50">ğŸ“Š í†µê³„ ë³´ê¸°</button>
                </div>
                <div class="px-4 mb-4 flex justify-center gap-4 items-center text-sm"><button class="text-gray-400">&lt;</button><span class="font-bold">5ì›” 20ì¼ (í™”)</span><button class="text-gray-400">&gt;</button></div>
                <div class="flex-1 px-4 space-y-3 pb-20">
                    <div onclick="navigate('screen-diet-detail', false)" class="bg-white p-4 rounded-xl shadow-sm flex gap-4 cursor-pointer hover:bg-gray-50 transition border border-gray-100">
                        <div class="w-16 h-16 bg-orange-100 rounded-xl flex items-center justify-center text-2xl">ğŸ¥ª</div>
                        <div class="flex-1">
                            <div class="flex justify-between items-start">
                                <div><span class="font-bold text-blue-600 text-[10px] bg-blue-50 px-2 py-0.5 rounded-full mb-1 inline-block">ì•„ì¹¨</span><h3 class="font-bold text-sm">í†µë°€ ìƒŒë“œìœ„ì¹˜</h3></div>
                                <span class="text-sm font-bold text-gray-800">450 kcal</span>
                            </div>
                        </div>
                    </div>
                </div>
                <button onclick="navigate('screen-diet-add-method', false)" class="fixed bottom-24 right-6 w-14 h-14 bg-black text-white rounded-full shadow-xl text-3xl flex items-center justify-center z-10 hover:scale-105 transition">+</button>
            </div>

            <div id="screen-diet-stats" class="screen bg-white" data-title="ì‹ë‹¨ í†µê³„">
                <div class="flex-1 p-6 overflow-y-auto">
                    <div class="flex bg-gray-100 p-1 rounded-lg mb-6"><button class="flex-1 py-1.5 text-xs font-bold bg-white shadow-sm rounded-md transition">ì£¼ê°„</button><button class="flex-1 py-1.5 text-xs font-bold text-gray-400">ì›”ê°„</button></div>
                    <div class="mb-8"><h3 class="font-bold text-lg mb-4">ì´ë²ˆ ì£¼ ì¹¼ë¡œë¦¬ ì„­ì·¨ëŸ‰ ğŸ”¥</h3><div class="bg-gray-50 p-6 rounded-2xl h-64 border border-gray-100"><div class="bar-container w-full h-40 items-end flex justify-between px-2"><div class="bar bg-gray-300 h-[40%]"><span class="bar-label">ì›”</span></div><div class="bar bg-blue-500 h-[70%]"><span class="bar-label">í™”</span></div><div class="bar bg-gray-300 h-[50%]"><span class="bar-label">ìˆ˜</span></div><div class="bar bg-gray-300 h-[60%]"><span class="bar-label">ëª©</span></div><div class="bar bg-gray-300 h-[80%]"><span class="bar-label">ê¸ˆ</span></div><div class="bar bg-gray-300 h-[30%]"><span class="bar-label">í† </span></div><div class="bar bg-gray-300 h-[40%]"><span class="bar-label">ì¼</span></div></div><div class="mt-6 flex justify-between text-xs text-gray-500 border-t pt-3"><span>í‰ê·  1,800 kcal</span><span class="text-blue-600 font-bold">ëª©í‘œ ë‹¬ì„± 3ì¼</span></div></div></div>
                </div>
            </div>

            <div id="screen-diet-add-method" class="screen p-6 justify-end bg-black/60 absolute inset-0 z-50 backdrop-blur-sm" style="background: rgba(0,0,0,0.6);">
                <div class="bg-white rounded-t-3xl p-8 animate-[slideUp_0.3s] pb-10">
                    <h3 class="font-bold text-xl mb-6 text-center">ì–´ë–»ê²Œ ê¸°ë¡í• ê¹Œìš”?</h3>
                    <div class="space-y-4">
                        <button onclick="startAIAnalysis()" class="w-full h-16 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-2xl shadow-lg flex items-center justify-between px-6 hover:opacity-90 transition"><div class="text-left"><span class="block text-xs opacity-80 font-normal">ì¶”ì²œ ë°©ì‹ âœ¨</span><span>AI ì‚¬ì§„ ë¶„ì„</span></div><span class="text-2xl">ğŸ“¸</span></button>
                        <button onclick="navigate('screen-diet-search', false)" class="w-full h-16 bg-white border-2 border-gray-200 text-gray-700 font-bold rounded-2xl flex items-center justify-between px-6 hover:bg-gray-50 transition"><span>ì§ì ‘ ì…ë ¥í•˜ê¸°</span><span class="text-2xl">âœï¸</span></button>
                    </div>
                    <button onclick="goBack()" class="w-full mt-6 py-3 text-gray-400 underline text-sm">ì·¨ì†Œ</button>
                </div>
            </div>

            <div id="screen-diet-ai-loading" class="screen absolute inset-0 z-50 bg-black flex flex-col items-center justify-center text-white" style="display: none;">
                <div class="relative w-32 h-32 mb-8"><div class="absolute inset-0 border-4 border-blue-500 rounded-full animate-[pulse-ring_1.5s_infinite]"></div><div class="absolute inset-0 flex items-center justify-center text-4xl">ğŸ¤–</div></div>
                <h3 class="text-xl font-bold mb-2">AIê°€ ìŒì‹ì„ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</h3>
            </div>

            <div id="screen-diet-write" class="screen bg-white" data-title="ì‹ë‹¨ ì…ë ¥">
                <div class="flex-1 p-6 space-y-6 overflow-y-auto pb-20">
                    <div class="flex justify-center"><div class="w-full h-56 bg-gray-100 rounded-2xl flex flex-col items-center justify-center border-2 border-dashed border-gray-300 text-gray-400 gap-2 relative overflow-hidden group hover:border-blue-400 transition cursor-pointer"><span class="text-3xl group-hover:scale-110 transition">ğŸ“·</span><span class="text-xs">ì‚¬ì§„ì„ ë“±ë¡í•˜ë©´ AIê°€ ë¶„ì„í•´ìš”</span><img id="diet-preview-img" src="" class="absolute inset-0 w-full h-full object-cover hidden"></div></div>
                    <div class="flex gap-3"><div class="flex-1"><label class="text-xs font-bold text-gray-500 mb-1 block">ë‚ ì§œ</label><input type="date" value="2025-05-20" class="input-field text-sm"></div><div class="flex-1"><label class="text-xs font-bold text-gray-500 mb-1 block">ì‹ì‚¬ êµ¬ë¶„</label><select class="input-field text-sm bg-white"><option>ì•„ì¹¨</option><option selected>ì ì‹¬</option><option>ì €ë…</option><option>ê°„ì‹</option></select></div></div>
                    <div><div class="flex justify-between items-center mb-2"><label class="text-xs font-bold text-gray-500 block">ë©”ë‰´ ëª©ë¡</label><button class="text-xs text-blue-600 font-bold">+ ë©”ë‰´ ì¶”ê°€</button></div><div class="space-y-3"><div class="flex gap-2 items-start"><input type="text" value="ë‹­ê°€ìŠ´ì‚´ ìƒëŸ¬ë“œ" class="input-field flex-[2]" placeholder="ìŒì‹ëª…"><div class="flex-1 relative"><input type="number" value="250" class="input-field pr-8 text-right"><span class="absolute right-3 top-3 text-xs text-gray-400">kcal</span></div><button class="w-12 h-12 text-gray-300 hover:text-red-500">Ã—</button></div></div></div>
                </div>
                <div class="p-4 border-t bg-white"><button onclick="navigate('screen-diet-list', true)" class="btn-primary shadow-lg">ì €ì¥í•˜ê¸°</button></div>
            </div>

            <div id="screen-diet-detail" class="screen bg-white" data-title="ì‹ë‹¨ ìƒì„¸">
                <div class="h-64 bg-orange-100 flex items-center justify-center text-8xl relative">ğŸ¥ª</div>
                <div class="p-6 -mt-6 bg-white rounded-t-3xl relative z-10 shadow-[0_-5px_15px_rgba(0,0,0,0.05)] flex-1">
                    <div class="flex justify-between items-start mb-6"><div><span class="text-blue-600 font-bold text-xs bg-blue-50 px-2 py-1 rounded mb-2 inline-block">ì•„ì¹¨ ì‹ì‚¬</span><h2 class="text-2xl font-bold">í†µë°€ ìƒŒë“œìœ„ì¹˜</h2></div><div class="text-right"><span class="block text-3xl font-bold text-gray-800">450</span><span class="text-xs text-gray-400">kcal</span></div></div>
                    <div class="flex gap-3 mt-10"><button onclick="document.getElementById('screen-diet-delete-modal').style.display='flex'" class="flex-1 h-12 border-2 border-red-100 text-red-500 font-bold rounded-xl">ì‚­ì œ</button><button onclick="navigate('screen-diet-write', false)" class="flex-[2] h-12 bg-black text-white font-bold rounded-xl">ìˆ˜ì •í•˜ê¸°</button></div>
                </div>
            </div>

            <div id="screen-diet-delete-modal" class="screen absolute inset-0 bg-black/60 z-50 items-center justify-center p-6 text-center backdrop-blur-sm" style="display: none;">
                <div class="bg-white p-6 rounded-2xl w-full max-w-xs shadow-2xl animate-[slideUp_0.2s]"><h3 class="font-bold text-lg mb-2">ì‹ë‹¨ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</h3><p class="text-gray-500 text-sm mb-6">ì‚­ì œëœ ë‚´ìš©ì€ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p><div class="flex gap-3"><button onclick="this.parentElement.parentElement.parentElement.style.display='none'" class="flex-1 h-10 border border-gray-300 rounded-lg text-sm font-bold">ì·¨ì†Œ</button><button onclick="navigate('screen-diet-list', true); this.parentElement.parentElement.parentElement.style.display='none'" class="flex-1 h-10 bg-red-500 text-white rounded-lg text-sm font-bold">ì‚­ì œí•¨</button></div></div>
            </div>

            <div id="screen-challenge-list" class="screen bg-gray-50" data-title="ì±Œë¦°ì§€">
                <div class="p-4 pt-0 space-y-4 pb-24 mt-4">
                    <div onclick="navigate('screen-challenge-detail', false)" class="bg-white rounded-2xl overflow-hidden shadow-sm cursor-pointer hover:shadow-md transition group">
                        <div class="h-36 bg-green-100 flex items-center justify-center text-5xl">ğŸ¥—</div>
                        <div class="p-5"><div class="flex justify-between mb-1 items-center"><h3 class="font-bold text-lg">í•˜ë£¨ í•œ ë¼ ìƒëŸ¬ë“œ</h3><span class="bg-green-100 text-green-700 text-[10px] font-bold px-2 py-1 rounded">ì§„í–‰ì¤‘</span></div><p class="text-xs text-gray-500 mb-4">2ì£¼ ë™ì•ˆ ì ì‹¬ì€ ìƒëŸ¬ë“œë¡œ ê°€ë³ê²Œ!</p><div class="w-full h-2 bg-gray-100 rounded-full overflow-hidden"><div class="w-[70%] h-full bg-green-500 rounded-full"></div></div></div>
                    </div>
                </div>
            </div>

            <div id="screen-challenge-detail" class="screen bg-white" data-title="ì±Œë¦°ì§€ ìƒì„¸">
                <div class="h-52 bg-green-50 flex items-center justify-center text-7xl relative">ğŸ¥—<button onclick="navigate('screen-challenge-badge', false)" class="absolute bottom-4 right-4 bg-white px-3 py-1 rounded-full text-xs font-bold shadow-sm border border-green-100 flex items-center gap-1">ğŸ† ë³´ìƒ ë³´ê¸°</button></div>
                <div class="p-6 -mt-6 bg-white rounded-t-3xl shadow-[0_-5px_20px_rgba(0,0,0,0.05)] flex-1 z-10">
                    <h2 class="text-2xl font-bold mb-2">í•˜ë£¨ í•œ ë¼ ìƒëŸ¬ë“œ</h2>
                    <div class="bg-gray-50 p-5 rounded-2xl mb-8 border border-gray-100"><div class="flex justify-between text-sm mb-2"><span class="text-gray-500">í˜„ì¬ ë‹¬ì„±ë¥ </span><span class="font-bold text-blue-600">70%</span></div><div class="w-full h-3 bg-gray-200 rounded-full overflow-hidden mb-2"><div class="w-[70%] h-full bg-gradient-to-r from-green-400 to-green-600 rounded-full"></div></div></div>
                    <div class="flex gap-3 mt-auto"><button class="btn-outline flex-1 text-gray-500 border-gray-200 h-14 text-sm">í¬ê¸°í•˜ê¸°</button><button onclick="alert('ì˜¤ëŠ˜ ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! âœ…')" class="btn-primary flex-1 h-14 shadow-lg bg-green-600 hover:bg-green-700">ì˜¤ëŠ˜ ì¸ì¦í•˜ê¸°</button></div>
                </div>
            </div>
            
            <div id="screen-challenge-badge" class="screen absolute inset-0 bg-black/80 z-50 items-center justify-center p-6 text-center backdrop-blur-sm" style="display: none;">
                <div class="bg-white p-10 rounded-3xl w-full max-w-xs animate-[bounce_1s] shadow-2xl relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-yellow-400 to-red-500"></div><div class="text-7xl mb-6 animate-pulse">ğŸ†</div><h2 class="text-2xl font-bold text-gray-800 mb-2">ì¶•í•˜í•©ë‹ˆë‹¤!</h2><button onclick="navigate('screen-profile', true)" class="btn-primary bg-yellow-500 hover:bg-yellow-600 text-white border-none mb-3">ë±ƒì§€ ì»¬ë ‰ì…˜ í™•ì¸</button><button onclick="this.parentElement.parentElement.style.display='none'" class="text-xs text-gray-400 underline">ë‹«ê¸°</button>
                </div>
            </div>

            <div id="screen-community" class="screen bg-gray-100" data-title="ì»¤ë®¤ë‹ˆí‹°">
                <div class="p-4 space-y-4 pb-24">
                    <div onclick="navigate('screen-community-detail', false)" class="bg-white p-5 rounded-2xl shadow-sm cursor-pointer hover:shadow-md transition">
                        <div class="flex items-center gap-3 mb-4"><div class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-lg">ğŸ‹ï¸</div><div class="flex-1"><p class="text-sm font-bold">í—¬ë¦°ì´íƒˆì¶œ</p><p class="text-[10px] text-gray-400">ë°©ê¸ˆ ì „</p></div></div>
                        <p class="mb-4 text-sm leading-relaxed text-gray-700">ì˜¤ëŠ˜ ì‹ë‹¨ ì¸ì¦í•©ë‹ˆë‹¤! ë‹¤ë“¤ í™”ì´íŒ…í•˜ì„¸ìš” ğŸ’ª</p><div class="h-48 bg-gray-200 rounded-xl mb-4 flex items-center justify-center text-gray-400 bg-[url('https://via.placeholder.com/300')] bg-cover bg-center">ìŒì‹ ì‚¬ì§„</div>
                    </div>
                </div>
            </div>

            <div id="screen-profile" class="screen bg-white" data-title="ë§ˆì´í˜ì´ì§€">
                <div class="p-8 flex flex-col items-center border-b border-gray-100 pb-8">
                    <div class="w-28 h-28 bg-gray-200 rounded-full mb-4 relative shadow-inner border-4 border-white"><span class="w-full h-full flex items-center justify-center text-4xl">ğŸ˜</span><button class="absolute bottom-0 right-0 w-9 h-9 bg-gray-800 text-white rounded-full flex items-center justify-center shadow-md text-sm">âœï¸</button></div>
                    <h2 class="text-2xl font-bold mb-1">ê±´ê°•ë§ˆìŠ¤í„°</h2><p class="text-sm text-gray-500 mb-6">ì˜¤ëŠ˜ë„ ê±´ê°•í•œ í•˜ë£¨ ë˜ì„¸ìš”! ğŸŒ±</p>
                    <div class="flex gap-8 text-center w-full justify-center"><div><span class="block font-bold text-xl text-gray-800">15</span><span class="text-xs text-gray-400">ê²Œì‹œê¸€</span></div><div class="w-[1px] h-8 bg-gray-200"></div><div><span class="block font-bold text-xl text-gray-800">240</span><span class="text-xs text-gray-400">íŒ”ë¡œì›Œ</span></div><div class="w-[1px] h-8 bg-gray-200"></div><div><span class="block font-bold text-xl text-gray-800">180</span><span class="text-xs text-gray-400">íŒ”ë¡œì‰</span></div></div>
                </div>
                <div class="py-2">
                    <div class="p-4 px-6 flex justify-between items-center hover:bg-gray-50 cursor-pointer mt-4"><span onclick="navigate('screen-login', false)" class="text-sm font-medium text-red-500">ë¡œê·¸ì•„ì›ƒ</span></div>
                </div>
            </div>

            <div id="screen-chatbot" class="screen bg-white" data-title="AI ì˜ì–‘ì‚¬">
                <div class="flex-1 p-4 space-y-4 overflow-y-auto bg-gray-50">
                    <div class="flex gap-2"><div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-xs shadow-md">AI</div><div class="bg-white p-3 rounded-2xl rounded-tl-none shadow-sm text-sm max-w-[80%] border border-gray-100">ì•ˆë…•í•˜ì„¸ìš”! ê±´ê°•ë§ˆìŠ¤í„° AIì…ë‹ˆë‹¤. ğŸ¤–</div></div>
                </div>
                <div class="p-3 border-t bg-white flex gap-2"><input type="text" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”" class="input-field h-10 rounded-full bg-gray-100 border-none"><button class="w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-md">â†‘</button></div>
            </div>

        </main>

        <nav id="gnb" class="h-[88px] bg-white border-t flex justify-around pb-6 pt-2 text-[10px] z-20 shadow-[0_-5px_10px_rgba(0,0,0,0.02)]">
            <div class="nav-item active" onclick="navigate('screen-home', true)"><span class="text-2xl mb-1">ğŸ </span>í™ˆ</div>
            <div class="nav-item" onclick="navigate('screen-diet-list', true)"><span class="text-2xl mb-1">ğŸ½ï¸</span>ì‹ë‹¨</div>
            <div class="nav-item" onclick="navigate('screen-challenge-list', true)"><span class="text-2xl mb-1">ğŸ”¥</span>ì±Œë¦°ì§€</div>
            <div class="nav-item" onclick="navigate('screen-community', true)"><span class="text-2xl mb-1">ğŸ’¬</span>ì»¤ë®¤ë‹ˆí‹°</div>
            <div class="nav-item" onclick="navigate('screen-profile', true)"><span class="text-2xl mb-1">ğŸ‘¤</span>MY</div>
        </nav>

    </div>

    <script>
        const historyStack = [];

        function navigate(screenId, showGnb) {
            document.querySelectorAll('.screen').forEach(el => el.classList.remove('active'));
            // AI ë¡œë”© í™”ë©´ ìˆ¨ê¹€
            if(document.getElementById('screen-diet-ai-loading')) document.getElementById('screen-diet-ai-loading').style.display = 'none';

            const target = document.getElementById(screenId);
            if(target) {
                target.classList.add('active');
                if(!['screen-home', 'screen-diet-list', 'screen-challenge-list', 'screen-community', 'screen-profile'].includes(screenId)) {
                    historyStack.push(screenId);
                }
            }
            
            const gnb = document.getElementById('gnb');
            const navItems = document.querySelectorAll('.nav-item');
            if (showGnb) {
                gnb.classList.add('show');
                navItems.forEach(item => item.classList.remove('active'));
                if(screenId.includes('home')) navItems[0].classList.add('active');
                if(screenId.includes('diet-list')) navItems[1].classList.add('active');
                if(screenId.includes('challenge-list')) navItems[2].classList.add('active');
                if(screenId.includes('community')) navItems[3].classList.add('active');
                if(screenId.includes('profile')) navItems[4].classList.add('active');
            } else {
                gnb.classList.remove('show');
            }

            const header = document.getElementById('app-header');
            const titleEl = document.getElementById('header-title');
            const title = target.getAttribute('data-title');
            if (title) {
                header.classList.remove('hidden');
                titleEl.innerText = title;
            } else {
                header.classList.add('hidden');
            }
        }

        function startAIAnalysis() {
            navigate('screen-diet-add-method', false); 
            document.getElementById('screen-diet-add-method').classList.remove('active');
            
            const loader = document.getElementById('screen-diet-ai-loading');
            loader.style.display = 'flex';

            setTimeout(() => {
                loader.style.display = 'none';
                navigate('screen-diet-write', false);
                const previewImg = document.getElementById('diet-preview-img');
                previewImg.src = "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"; // ìƒëŸ¬ë“œ ì´ë¯¸ì§€
                previewImg.classList.remove('hidden');
            }, 2000);
        }

        function goBack() {
            const current = document.querySelector('.screen.active').id;
            
            if(['screen-diet-list', 'screen-challenge-list', 'screen-community', 'screen-profile'].includes(current)) {
                navigate('screen-home', true);
            } 
            else if (['screen-diet-stats', 'screen-diet-detail', 'screen-diet-write', 'screen-diet-add-method'].includes(current)) {
                navigate('screen-diet-list', true);
            } 
            // ìŒì‹ DB ë’¤ë¡œê°€ê¸° ë¡œì§
            else if (current === 'screen-food-db-detail') {
                navigate('screen-food-db', false);
            }
            else if (current === 'screen-food-db') {
                navigate('screen-home', true);
            }
            else if (current === 'screen-challenge-detail') {
                navigate('screen-challenge-list', true);
            }
            else if (current === 'screen-login') {
                navigate('screen-landing', false);
            } else {
                navigate('screen-home', true);
            }
        }
    </script>
</body>
</html>